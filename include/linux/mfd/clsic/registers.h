/*
 * registers.h -- CLSIC register definitions
 *
 * Copyright (C) 2015-2018 Cirrus Logic, Inc. and
 *			   Cirrus Logic International Semiconductor Ltd.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 */

#ifndef CIRRUS_CLSIC_REGISTERS_H
#define CIRRUS_CLSIC_REGISTERS_H

#include <linux/mfd/tacna/registers.h>

#define CLSIC_SOFTWARE_RESET_CODE		0x5A000000

/* the firmware update bit is defined as bit 8 of the SCP GPR RX_A register */
#define CLSIC_FW_UPDATE_REG			TACNA_CPF1_RX_GPR_CONTROL1
#define CLSIC_FW_UPDATE_BIT			0x00000100

/* the firmware bootloader updates these registers to indicate state */
#define CLSIC_FW_BOOT_PROGRESS				0x1043FFF4
#define CLSIC_FW_BOOT_PROGRESS_READ_FW_UPDATE_BIT	0x13
#define CLSIC_FW_BOOT_PANIC				0x1043FFF8

/*
 * Due to the register size of the SCP there is an explicit maximum transfer
 * size and transfers greater than this will need to be split into multiple bus
 * writes.
 */
#define CLSIC_FIFO_TRANSACTION_MAX		(32 * 1024)

/*
 * The fifo width is 32 bits and all accesses must be aligned in start and
 * length, however bulk messages may report partial word sizes in bulk_sz.
 *
 * The sender will pad these transfers with additional bytes that the receiver
 * will need to read and discard.
 */
#define CLSIC_BULKSZ_ROUNDUP(val)		(((val) + 3) & 0xfffffffc)

#define CLSIC_CPF2_RX_WRDATA				0x228000

#define CLSIC_IRQN_PAD_CTRL				0x1044
#define CLSIC_DSP2_XM_SRAM_IBUS_SETUP_0			0x17108
#define CLSIC_DSP2_XM_SRAM_IBUS_PSD_1			0x1710c
#define CLSIC_DSP2_XM_SRAM_IBUS_RET_1			0x17110
#define CLSIC_DSP2_XM_SRAM_IBUS_NAP_1			0x17114
#define CLSIC_DSP2_YM_SRAM_IBUS_SETUP_0			0x17118
#define CLSIC_DSP2_YM_SRAM_IBUS_PSD_1			0x1711c
#define CLSIC_DSP2_YM_SRAM_IBUS_RET_1			0x17120
#define CLSIC_DSP2_YM_SRAM_IBUS_NAP_1			0x17124
#define CLSIC_DSP2_PM_SRAM_IBUS_SETUP_0			0x17128
#define CLSIC_DSP2_PM_SRAM_IBUS_PSD_1			0x1712c
#define CLSIC_DSP2_PM_SRAM_IBUS_RET_1			0x17130
#define CLSIC_DSP2_PM_SRAM_IBUS_NAP_1			0x17134
#define CLSIC_DSP2_PWR_CTRL				0x17218
#define CLSIC_SCRATCH_1					0x17518
#define CLSIC_PDM1_CONFIG				0x17600
#define CLSIC_PDM2_CONFIG				0x17604
#define CLSIC_PDM3_CONFIG				0x17608
#define CLSIC_PDM4_CONFIG				0x1760C
#define CLSIC_IRQ2_STS6					0x184a4
#define CLSIC_SLIMBUS_RX9_START_ADDR			0x109008
#define CLSIC_SLIMBUS_RX9_PORTS				0x10900c
#define CLSIC_SLIMBUS_RX9_PORT_STATUS			0x109010
#define CLSIC_SLIMBUS_RX10_START_ADDR			0x109014
#define CLSIC_SLIMBUS_RX10_PORTS			0x109018
#define CLSIC_SLIMBUS_RX10_PORT_STATUS			0x10901c
#define CLSIC_SLIMBUS_RX11_START_ADDR			0x109020
#define CLSIC_SLIMBUS_RX11_PORTS			0x109024
#define CLSIC_SLIMBUS_RX11_PORT_STATUS			0x109028
#define CLSIC_SLIMBUS_TX9_START_ADDR			0x10902c
#define CLSIC_SLIMBUS_TX9_PORTS				0x109030
#define CLSIC_SLIMBUS_TX9_PORT_STATUS			0x109034
#define CLSIC_SLIMBUS_TX10_START_ADDR			0x109038
#define CLSIC_SLIMBUS_TX10_PORTS			0x10903c
#define CLSIC_SLIMBUS_TX10_PORT_STATUS			0x109040
#define CLSIC_SLIMBUS_TX11_START_ADDR			0x109044
#define CLSIC_SLIMBUS_TX11_PORTS			0x109048
#define CLSIC_SLIMBUS_TX11_PORT_STATUS			0x10904c

/* (0x1040) SOUNDWIRE_CTRL */
#define CLSIC_SWIRE_CLK_PU				0x00200000
#define CLSIC_SWIRE_CLK_PU_MASK				0x00200000
#define CLSIC_SWIRE_CLK_PU_SHIFT				21
#define CLSIC_SWIRE_CLK_PU_WIDTH				 1
#define CLSIC_SWIRE_CLK_PD				0x00100000
#define CLSIC_SWIRE_CLK_PD_MASK				0x00100000
#define CLSIC_SWIRE_CLK_PD_SHIFT				20
#define CLSIC_SWIRE_CLK_PD_WIDTH				 1
#define CLSIC_SWIRE_DATA0_PU				0x00080000
#define CLSIC_SWIRE_DATA0_PU_MASK			0x00080000
#define CLSIC_SWIRE_DATA0_PU_SHIFT				19
#define CLSIC_SWIRE_DATA0_PU_WIDTH				 1
#define CLSIC_SWIRE_DATA0_PD				0x00040000
#define CLSIC_SWIRE_DATA0_PD_MASK			0x00040000
#define CLSIC_SWIRE_DATA0_PD_SHIFT				18
#define CLSIC_SWIRE_DATA0_PD_WIDTH				 1
#define CLSIC_SWIRE_DATA1_PU				0x00020000
#define CLSIC_SWIRE_DATA1_PU_MASK			0x00020000
#define CLSIC_SWIRE_DATA1_PU_SHIFT				17
#define CLSIC_SWIRE_DATA1_PU_WIDTH				 1
#define CLSIC_SWIRE_DATA1_PD				0x00010000
#define CLSIC_SWIRE_DATA1_PD_MASK			0x00010000
#define CLSIC_SWIRE_DATA1_PD_SHIFT				16
#define CLSIC_SWIRE_DATA1_PD_WIDTH				 1
#define CLSIC_SWIRE_DATA1_SLEW_TEST_MASK		0x00006000
#define CLSIC_SWIRE_DATA1_SLEW_TEST_SHIFT			13
#define CLSIC_SWIRE_DATA1_SLEW_TEST_WIDTH			 2
#define CLSIC_SWIRE_DATA1_TZD_CTRL_MASK			0x00001c00
#define CLSIC_SWIRE_DATA1_TZD_CTRL_SHIFT			10
#define CLSIC_SWIRE_DATA1_TZD_CTRL_WIDTH			 3
#define CLSIC_SWIRE_DATA1_SLEW_CTRL_MASK		0x00000300
#define CLSIC_SWIRE_DATA1_SLEW_CTRL_SHIFT			 8
#define CLSIC_SWIRE_DATA1_SLEW_CTRL_WIDTH			 2
#define CLSIC_SWIRE_DATA0_SLEW_TEST_MASK		0x00000060
#define CLSIC_SWIRE_DATA0_SLEW_TEST_SHIFT			 5
#define CLSIC_SWIRE_DATA0_SLEW_TEST_WIDTH			 2
#define CLSIC_SWIRE_DATA0_TZD_CTRL_MASK			0x0000001c
#define CLSIC_SWIRE_DATA0_TZD_CTRL_SHIFT			 2
#define CLSIC_SWIRE_DATA0_TZD_CTRL_WIDTH			 3
#define CLSIC_SWIRE_DATA0_SLEW_CTRL_MASK		0x00000003
#define CLSIC_SWIRE_DATA0_SLEW_CTRL_SHIFT			 0
#define CLSIC_SWIRE_DATA0_SLEW_CTRL_WIDTH			 2

/* (0x1044) IRQN_PAD_CTRL */
#define CLSIC_IRQN_DRV_STR_MASK				0x00000300
#define CLSIC_IRQN_DRV_STR_SHIFT				 8
#define CLSIC_IRQN_DRV_STR_WIDTH				 2
#define CLSIC_IRQN_PU					0x00000008
#define CLSIC_IRQN_PU_MASK				0x00000008
#define CLSIC_IRQN_PU_SHIFT					 3
#define CLSIC_IRQN_PU_WIDTH					 1
#define CLSIC_IRQ_B_POL					0x00000004
#define CLSIC_IRQ_B_POL_MASK				0x00000004
#define CLSIC_IRQ_B_POL_SHIFT					 2
#define CLSIC_IRQ_B_POL_WIDTH					 1
#define CLSIC_IRQ_B_OP_CFG				0x00000002
#define CLSIC_IRQ_B_OP_CFG_MASK				0x00000002
#define CLSIC_IRQ_B_OP_CFG_SHIFT				 1
#define CLSIC_IRQ_B_OP_CFG_WIDTH				 1
#define CLSIC_IM_IRQ					0x00000001
#define CLSIC_IM_IRQ_MASK				0x00000001
#define CLSIC_IM_IRQ_SHIFT					 0
#define CLSIC_IM_IRQ_WIDTH					 1

/* (0x17600) PDM1_CONFIG */
#define CLSIC_PDM_CLK_INV				0x00010000
#define CLSIC_PDM_CLK_INV_MASK				0x00010000
#define CLSIC_PDM_CLK_INV_SHIFT					16
#define CLSIC_PDM_CLK_INV_WIDTH					 1
#define CLSIC_PDM_CH					0x00000010
#define CLSIC_PDM_CH_MASK				0x00000010
#define CLSIC_PDM_CH_SHIFT					 4
#define CLSIC_PDM_CH_WIDTH					 1
#define CLSIC_PDM_CLK_MSTR				0x00000008
#define CLSIC_PDM_CLK_MSTR_MASK				0x00000008
#define CLSIC_PDM_CLK_MSTR_SHIFT				 3
#define CLSIC_PDM_CLK_MSTR_WIDTH				 1
#define CLSIC_PDM_CLK_SRC				0x00000007
#define CLSIC_PDM_CLK_SRC_MASK				0x00000007
#define CLSIC_PDM_CLK_SRC_SHIFT					 0
#define CLSIC_PDM_CLK_SRC_WIDTH					 3

/* (0x17218) DSP2_PWR_CTRL */
#define CLSIC_DSP2_RST_N				0x00000004
#define CLSIC_DSP2_RST_N_MASK				0x00000004
#define CLSIC_DSP2_RST_N_SHIFT					 2
#define CLSIC_DSP2_RST_N_WIDTH					 1
#define CLSIC_DSP2_SHUTOFF				0x00000002
#define CLSIC_DSP2_SHUTOFF_MASK				0x00000002
#define CLSIC_DSP2_SHUTOFF_SHIFT				 1
#define CLSIC_DSP2_SHUTOFF_WIDTH				 1
#define CLSIC_DSP2_ISOLATE_ENABLE			0x00000001
#define CLSIC_DSP2_ISOLATE_ENABLE_MASK			0x00000001
#define CLSIC_DSP2_ISOLATE_ENABLE_SHIFT				 0
#define CLSIC_DSP2_ISOLATE_ENABLE_WIDTH				 1

/* (0x17518) SCRATCH_1 */
#define CLSIC_SCRATCH_1_MASK				0xffffffff
#define CLSIC_SCRATCH_1_SHIFT					 0
#define CLSIC_SCRATCH_1_WIDTH					32

/* (0x18014) - IRQ1_EINT2 */
#define CLSIC_PVT_TS_SD_RISE_EINT1			0x20000000
#define CLSIC_PVT_TS_SD_RISE_EINT1_MASK			0x20000000
#define CLSIC_PVT_TS_SD_RISE_EINT1_SHIFT			29
#define CLSIC_PVT_TS_SD_RISE_EINT1_WIDTH			 1
#define CLSIC_PVT_TS_WARN_FALL_EINT1			0x10000000
#define CLSIC_PVT_TS_WARN_FALL_EINT1_MASK		0x10000000
#define CLSIC_PVT_TS_WARN_FALL_EINT1_SHIFT			28
#define CLSIC_PVT_TS_WARN_FALL_EINT1_WIDTH			 1

/* (0x184a4) IRQ2_STS6 */
#define CLSIC_FLL3_REF_LOST_STS2			0x00000400
#define CLSIC_FLL3_REF_LOST_STS2_MASK			0x00000400
#define CLSIC_FLL3_REF_LOST_STS2_SHIFT				10
#define CLSIC_FLL3_REF_LOST_STS2_WIDTH				 1
#define CLSIC_FLL2_REF_LOST_STS2			0x00000200
#define CLSIC_FLL2_REF_LOST_STS2_MASK			0x00000200
#define CLSIC_FLL2_REF_LOST_STS2_SHIFT				 9
#define CLSIC_FLL2_REF_LOST_STS2_WIDTH				 1
#define CLSIC_FLL1_REF_LOST_STS2			0x00000100
#define CLSIC_FLL1_REF_LOST_STS2_MASK			0x00000100
#define CLSIC_FLL1_REF_LOST_STS2_SHIFT				 8
#define CLSIC_FLL1_REF_LOST_STS2_WIDTH				 1
#define CLSIC_FLL3_LOCK_STS2				0x00000010
#define CLSIC_FLL3_LOCK_STS2_MASK			0x00000010
#define CLSIC_FLL3_LOCK_STS2_SHIFT				 4
#define CLSIC_FLL3_LOCK_STS2_WIDTH				 1
#define CLSIC_FLL2_LOCK_STS2				0x00000004
#define CLSIC_FLL2_LOCK_STS2_MASK			0x00000004
#define CLSIC_FLL2_LOCK_STS2_SHIFT				 2
#define CLSIC_FLL2_LOCK_STS2_WIDTH				 1
#define CLSIC_FLL1_LOCK_STS2				0x00000001
#define CLSIC_FLL1_LOCK_STS2_MASK			0x00000001
#define CLSIC_FLL1_LOCK_STS2_SHIFT				 0
#define CLSIC_FLL1_LOCK_STS2_WIDTH				 1

/* (0x109008) SLIMBUS_RX9_START_ADDR */
#define CLSIC_SLIMRX9_START_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMRX9_START_ADDR_SHIFT				 0
#define CLSIC_SLIMRX9_START_ADDR_WIDTH				29

/* (0x10900c) SLIMBUS_RX9_PORTS */
#define CLSIC_SLIMRX9_PORT_ADDR_MASK			0x000000ff
#define CLSIC_SLIMRX9_PORT_ADDR_SHIFT				 0
#define CLSIC_SLIMRX9_PORT_ADDR_WIDTH				 8

/* (0x109010) SLIMBUS_RX9_PORT_STATUS */
#define CLSIC_SLIMRX9_ADDR_MASK				0x1fffffff
#define CLSIC_SLIMRX9_ADDR_SHIFT				 0
#define CLSIC_SLIMRX9_ADDR_WIDTH				29

/* (0x109014) SLIMBUS_RX10_START_ADDR */
#define CLSIC_SLIMRX10_START_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMRX10_START_ADDR_SHIFT				 0
#define CLSIC_SLIMRX10_START_ADDR_WIDTH				29

/* (0x109018) SLIMBUS_RX10_PORTS */
#define CLSIC_SLIMRX10_PORT_ADDR_MASK			0x000000ff
#define CLSIC_SLIMRX10_PORT_ADDR_SHIFT				 0
#define CLSIC_SLIMRX10_PORT_ADDR_WIDTH				 8

/* (0x109020) SLIMBUS_RX11_START_ADDR */
#define CLSIC_SLIMRX11_START_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMRX11_START_ADDR_SHIFT				 0
#define CLSIC_SLIMRX11_START_ADDR_WIDTH				29

/* (0x109024) SLIMBUS_RX11_PORTS */
#define CLSIC_SLIMRX11_PORT_ADDR_MASK			0x000000ff
#define CLSIC_SLIMRX11_PORT_ADDR_SHIFT				 0
#define CLSIC_SLIMRX11_PORT_ADDR_WIDTH				 8

/* (0x109028) SLIMBUS_RX11_PORT_STATUS */
#define CLSIC_SLIMRX11_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMRX11_ADDR_SHIFT				 0
#define CLSIC_SLIMRX11_ADDR_WIDTH				29

/* (0x10902c) SLIMBUS_TX9_START_ADDR */
#define CLSIC_SLIMTX9_START_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMTX9_START_ADDR_SHIFT				 0
#define CLSIC_SLIMTX9_START_ADDR_WIDTH				29

/* (0x109030) SLIMBUS_TX9_PORTS */
#define CLSIC_SLIMTX9_PORT_ADDR_MASK			0x000000ff
#define CLSIC_SLIMTX9_PORT_ADDR_SHIFT				 0
#define CLSIC_SLIMTX9_PORT_ADDR_WIDTH				 8

/* (0x109034) SLIMBUS_TX9_PORT_STATUS */
#define CLSIC_SLIMTX9_ADDR_MASK				0x1fffffff
#define CLSIC_SLIMTX9_ADDR_SHIFT				 0
#define CLSIC_SLIMTX9_ADDR_WIDTH				29

/* (0x109038) SLIMBUS_TX10_START_ADDR */
#define CLSIC_SLIMTX10_START_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMTX10_START_ADDR_SHIFT				 0
#define CLSIC_SLIMTX10_START_ADDR_WIDTH				29

/* (0x10903c) SLIMBUS_TX10_PORTS */
#define CLSIC_SLIMTX10_PORT_ADDR_MASK			0x000000ff
#define CLSIC_SLIMTX10_PORT_ADDR_SHIFT				 0
#define CLSIC_SLIMTX10_PORT_ADDR_WIDTH				 8

/* (0x109040) SLIMBUS_TX10_PORT_STATUS */
#define CLSIC_SLIMTX10_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMTX10_ADDR_SHIFT				 0
#define CLSIC_SLIMTX10_ADDR_WIDTH				29

/* (0x109044) SLIMBUS_TX11_START_ADDR */
#define CLSIC_SLIMTX11_START_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMTX11_START_ADDR_SHIFT				 0
#define CLSIC_SLIMTX11_START_ADDR_WIDTH				29

/* (0x109048) SLIMBUS_TX11_PORTS */
#define CLSIC_SLIMTX11_PORT_ADDR_MASK			0x000000ff
#define CLSIC_SLIMTX11_PORT_ADDR_SHIFT				 0
#define CLSIC_SLIMTX11_PORT_ADDR_WIDTH				 8

/* (0x10904c) SLIMBUS_TX11_PORT_STATUS */
#define CLSIC_SLIMTX11_ADDR_MASK			0x1fffffff
#define CLSIC_SLIMTX11_ADDR_SHIFT				 0
#define CLSIC_SLIMTX11_ADDR_WIDTH				29

#endif
